<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Economic Mobility Guide</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
    <script src="script.js" defer></script>
    <script src="mapVis.js" defer></script>
</head>
<body>
    <header>
        <nav class="navigation">
            <div class="nav-content">
                <div class="logo">Economic Mobility Guide</div>
                <div class="nav-links">
                    <a href="#welcome" class="nav-link">Home</a>
                    <a href="#quiz-section" class="nav-link">Personalize</a>
                    <a href="#opportunity-map" class="nav-link">Opportunity Map</a>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </nav>
    </header>

    <main class="container">
        <section id="welcome" class="welcome-section">
            <div class="welcome-content fade-in">
                <h1>Building Your Child's Future</h1>
                <p class="subtitle">A friendly guide to creating opportunities for your family</p>
                <p class="welcome-description">
                    Every parent dreams of giving their children the best possible future. We're here to help make that dream a reality. 
                    This guide will walk you through practical steps and valuable resources that can open doors for your children.
                </p>
                <div class="key-points">
                    <p>Here's what you'll discover:</p>
                    <ul>
                        <li>Simple steps to support your child's education</li>
                        <li>Financial resources and opportunities</li>
                        <li>Community programs and support services</li>
                    </ul>
                </div>
                <p class="encouragement">
                    Let's take this journey together, one step at a time.
                </p>
            </div>
        </section>

        <section id="learn-section" class="content-section">
            <div class="content">
                <h1>Where You Live Impacts Your Kids' Future</h1>
                <div id="map-vis"></div>
            
                <div class="map-explanation">
                    <div class="explanation-text">
                        <h2>Why do opportunities vary by area?</h2>
                        <p>Let's understand what makes some areas have more opportunities than others:</p>
                    </div>
                
                    <div class="opportunity-factors">
                        <div class="factor-card" data-factor="segregation">
                            <h3>Segregation</h3>
                            <p>How mixed or separated different communities are</p>
                            <button class="learn-more-btn">Learn More</button>
                        </div>
                        <div class="factor-card" data-factor="income">
                            <h3>Income Inequality</h3>
                            <p>The gap between high and low income families</p>
                            <button class="learn-more-btn">Learn More</button>
                        </div>
                        <div class="factor-card" data-factor="schools">
                            <h3>School Quality</h3>
                            <p>How good the local schools are</p>
                            <button class="learn-more-btn">Learn More</button>
                        </div>
                        <div class="factor-card" data-factor="family">
                            <h3>Family Structure</h3>
                            <p>Support systems within families</p>
                            <button class="learn-more-btn">Learn More</button>
                        </div>
                        <div class="factor-card" data-factor="social">
                            <h3>Social Capital</h3>
                            <p>Community connections and support</p>
                            <button class="learn-more-btn">Learn More</button>
                        </div>
                    </div>

                    <div class="better-future">
                        <h2>How Can We Do Better?</h2>
                        <div class="path-to-success">
                            <div class="step">
                                <div class="step-number">1</div>
                                <h3>Live in Good Areas</h3>
                                <p>Consider moving to areas with better opportunities</p>
                            </div>
                            <div class="step">
                                <div class="step-number">2</div>
                                <h3>Use Opportunities</h3>
                                <p>Take advantage of local programs and resources</p>
                            </div>
                            <div class="step">
                                <div class="step-number">3</div>
                                <h3>Good Education</h3>
                                <p>Focus on quality education and college preparation</p>
                            </div>
                            <div class="step">
                                <div class="step-number">4</div>
                                <h3>Career Success</h3>
                                <p>Build towards a rewarding career</p>
                            </div>
                        </div>
                    </div>

                    <div class="call-to-action">
                        <h2>Help Your Family!</h2>
                        <p>Ready to explore opportunities in your area?</p>
                        <button class="primary-btn" id="check-area-btn">Check Your Area</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="quiz-section" class="content-section">
            <div class="quiz-container">
                <h2>Part 2: Personalization Quiz</h2>
                <p class="quiz-description">Help us provide personalized guidance for your family's future</p>
                
                <form id="personalization-form" class="quiz-form">
                    <div class="form-section parent-info">
                        <h3>Parent Information</h3>
                        <div class="parent-fields">
                            <div class="form-group">
                                <label for="zipCode">Zip Code*</label>
                                <input type="text" id="zipCode" name="zipCode" required pattern="[0-9]{5}" maxlength="5" placeholder="Enter zip code">
                            </div>
                            
                            <div class="form-group">
                                <label for="income">Annual Household Income*</label>
                                <select id="income" name="income" required>
                                    <option value="">Select income range</option>
                                    <option value="<25k">Less than $25,000</option>
                                    <option value="25-50k">$25,000 - $50,000</option>
                                    <option value="50-75k">$50,000 - $75,000</option>
                                    <option value="75-100k">$75,000 - $100,000</option>
                                    <option value=">100k">More than $100,000</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="country">Country of Origin (Optional)</label>
                                <input type="text" id="country" name="country" placeholder="Enter country">
                            </div>
                        </div>
                    </div>

                    <div class="form-section child-info">
                        <h3>Child Information</h3>
                        <div class="child-form">
                            <h4>Child 1</h4>
                            <div class="form-group">
                                <label for="child1-name">Name*</label>
                                <input type="text" id="child1-name" name="child1-name" required placeholder="Enter child's name">
                            </div>
                            
                            <div class="form-group">
                                <label for="child1-gender">Gender*</label>
                                <select id="child1-gender" name="child1-gender" required>
                                    <option value="">Select gender</option>
                                    <option value="M">Male</option>
                                    <option value="F">Female</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="child1-age">Age*</label>
                                <input type="number" id="child1-age" name="child1-age" min="0" max="18" required placeholder="Enter age">
                            </div>
                            
                            <div class="form-group">
                                <label for="child1-ethnicity">Ethnicity*</label>
                                <select id="child1-ethnicity" name="child1-ethnicity" required>
                                    <option value="">Select ethnicity</option>
                                    <option value="W">White</option>
                                    <option value="B">Black</option>
                                    <option value="H">Hispanic</option>
                                    <option value="A">Asian</option>
                                    <option value="NA">Native American</option>
                                </select>
                            </div>
                        </div>

                        <div class="child-form">
                            <h4>Child 2</h4>
                            <div class="form-group">
                                <label for="child2-name">Name</label>
                                <input type="text" id="child2-name" name="child2-name" placeholder="Enter child's name">
                            </div>
                            
                            <div class="form-group">
                                <label for="child2-gender">Gender</label>
                                <select id="child2-gender" name="child2-gender">
                                    <option value="">Select gender</option>
                                    <option value="M">Male</option>
                                    <option value="F">Female</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="child2-age">Age</label>
                                <input type="number" id="child2-age" name="child2-age" min="0" max="18" placeholder="Enter age">
                            </div>
                            
                            <div class="form-group">
                                <label for="child2-ethnicity">Ethnicity</label>
                                <select id="child2-ethnicity" name="child2-ethnicity">
                                    <option value="">Select ethnicity</option>
                                    <option value="W">White</option>
                                    <option value="B">Black</option>
                                    <option value="H">Hispanic</option>
                                    <option value="A">Asian</option>
                                    <option value="NA">Native American</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="submit-btn">Update Assessment</button>
                    </div>
                </form>
            </div>
        </section>

        <section id="opportunity-map" class="content-section">
            <div class="opportunity-container">
                <h2>Opportunity Map</h2>
                <p class="section-description">Explore economic mobility across different regions</p>
                
                <div class="opportunity-content">
                    <div class="map-side">
                        <div id="zip-map"></div>
                        <div class="map-controls">
                            <button class="map-toggle active" data-view="commuting">Commuting Zones</button>
                            <button class="map-toggle" data-view="census">Census Tracts</button>
                        </div>
                    </div>
                    
                    <div class="scores-side">
                        <div class="score-card">
                            <h3>Opportunity Score</h3>
                            <div class="total-score">
                                <span id="total-score">--</span>
                                <span class="out-of">out of 100</span>
                            </div>
                            
                            <div class="score-breakdown">
                                <h4>Score Breakdown</h4>
                                <div class="score-item">
                                    <div class="score-label">Segregation</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" id="segregation-score" style="width: 0%"></div>
                                        <span class="score-value">--</span>
                                    </div>
                                </div>
                                
                                <div class="score-item">
                                    <div class="score-label">Income Inequality</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" id="inequality-score" style="width: 0%"></div>
                                        <span class="score-value">--</span>
                                    </div>
                                </div>
                                
                                <div class="score-item">
                                    <div class="score-label">School Quality</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" id="school-score" style="width: 0%"></div>
                                        <span class="score-value">--</span>
                                    </div>
                                </div>
                                
                                <div class="score-item">
                                    <div class="score-label">Family Structure</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" id="family-score" style="width: 0%"></div>
                                        <span class="score-value">--</span>
                                    </div>
                                </div>
                                
                                <div class="score-item">
                                    <div class="score-label">Social Capital</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" id="social-score" style="width: 0%"></div>
                                        <span class="score-value">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="section1" class="content-section">
            <!-- Section 1 content will go here -->
        </section>

        <section id="section2" class="content-section">
            <!-- Section 2 content will go here -->
        </section>

        <section id="section3" class="content-section">
            <!-- Section 3 content will go here -->
        </section>

        <section id="section4" class="content-section">
            <!-- Section 4 content will go here -->
        </section>

        <section id="section5" class="content-section">
            <!-- Section 5 content will go here -->
        </section>

        <section id="section6" class="content-section">
            <!-- Section 6 content will go here -->
        </section>
    </main>

    <script src="scroll.js"></script>
</body>
</html>
